## React Router
1. 安装
```
npm i -S react-router
```
2. 使用
Router 组件本身只是一个容器，真正的路由要通过 Route 组件定义
```
import { Router, Route, hashHistory } from 'react-router'

render((
  <Router history={hashHistory}>
    <Route path="/" component={Home} />
    <Route path="/repos" component={Repos} />
    <Route path="/about" component={About}>
      <Route path="/abc" component={Abc}>
      <Route path="/abd" component={Abd}>
    </Route>
  </Router>
),document.getElementById('app'))

{/*也可以单独传入Router组件的routes属性*/}

const routes = <Route path="/" component={App}>
  <Route path="/repos" component={Repos}/>
  <Route path="/about" component={About}/>
</Route>

<Router routes={routes} history={browserHistory} />
```
### 上面代码中：

2.1 嵌套Route会优先加载上层About组件
```
<About>
  <Abc />
  <Abd />
</About>
```

2.2 About组件要写成下面的样子
```
export default class About extends React.Component{
  render(){
    return (<div>
      {this.props.children}
    </div>)
  }
}
```

3. path属性
Route 组件 path属性指定路由的匹配规则。
```
<Route path="inbox" component={Inbox}>
  <Route path="messages/:id" component={Message} />
</Route>

<Route component={Outbox}>
  <Route path="outbox/messages/:id" component={Message} />
</Route>
```
等价于：
```
{/* url: inbox/messages/:id */}
<Inbox>
  <Message/>
</Inbox>

{/* url: outbox/messages/:id */}
<Outbox>
  <Message/>
</Outbox>
```

4. 通配符
path 属性可以使用通配符
```
<Route path="/hello/:name">
// 匹配 /hello/michael
// 匹配 /hello/ryan

<Route path="/hello(/:name)">
// 匹配 /hello
// 匹配 /hello/michael
// 匹配 /hello/ryan

<Route path="/files/*.*">
// 匹配 /files/hello.jpg
// 匹配 /files/hello.html

<Route path="/files/*">
// 匹配 /files/ 
// 匹配 /files/a
// 匹配 /files/a/b

<Route path="/**/*.jpg">
// 匹配 /files/hello.jpg
// 匹配 /files/path/to/file.jpg
```
### 通配规则
```
(1) :paramName
    :paramName 匹配URL的一部分，知道遇见下一个/、?、#为止。
    这个路径参数可通过 this.props.params.paramName。
(2) ()
    ()表示URL的这个部分是可选的。
(3) *
    *匹配任意字符，直到模式里面的下一个字符为止。匹配方式是非贪婪模式。
(4) **
    **匹配任意字符，直到遇见下一个/、?、#为止。匹配方式是贪婪模式。
```

## path属性也可以使用相对路径（不以/开头），匹配时就会相对于父组件的路径。嵌套路由如果想摆脱这个规则，可以使用绝对路由。
```
<Router>
  <Route path="/:userName/:id" component={UserPage}/>
  <Route path="/about/me" component={About}/>
</Router>
```
上面代码中，用户访问/about/me时，不会触发第二个路由规则，因为它会匹配/:userName/:id这个规则。
因此，带参数的路径一般要写在路由规则的底部。
此外，URL的查询字符串/foo?bar=baz，可以用this.props.location.query.bar获取。
